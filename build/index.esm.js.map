{"version":3,"file":"index.esm.js","sources":["../index.js"],"sourcesContent":["export default function SplitViews (options) {\r\n\r\n  let defaultOptions = {\r\n    parentId: 'split-view',\r\n    direction: 'vertical',\r\n    gutterSize: 5,\r\n    minSize: 20,\r\n    ...options\r\n  };\r\n\r\n  let parentElement = document.getElementById(defaultOptions.parentId),\r\n    parentChildren = [...parentElement.children];\r\n\r\n  let isMouseOnGutter = false,\r\n    childSize = 100 / parentChildren.length;\r\n\r\n  let direction = defaultOptions.direction,\r\n    gutterId = 0,\r\n    leftChild = null,\r\n    rightChild = null;\r\n\r\n  parentChildren.forEach((el, index) => {\r\n    let prop = direction === 'vertical' ? 'width' : 'height';\r\n    el.style[prop] = `calc(${childSize}% - ${defaultOptions.gutterSize / 2}px)`;\r\n\r\n    if (index < parentChildren.length - 1) {\r\n      const gutter = document.createElement('span');\r\n      const gutterCls = direction === 'vertical' ? \"gutter-vertical\" : \"gutter-horizontal\";\r\n\r\n      gutter.classList.add(\"gutter\", gutterCls);\r\n\r\n      gutter.style[prop] = defaultOptions.gutterSize + 'px';\r\n      gutter.dataset.id = index;\r\n      el.parentNode.insertBefore(gutter, el.nextSibling);\r\n    }\r\n  });\r\n\r\n  function onMouseDown (e) {\r\n    if (e.target.classList.contains('gutter')) {\r\n      isMouseOnGutter = true;\r\n      gutterId = parseInt(e.target.dataset.id, 10);\r\n\r\n      leftChild = parentChildren[gutterId];\r\n      rightChild = parentChildren[gutterId + 1];\r\n\r\n      parentElement.addEventListener('mousemove', onMouseMove, false);\r\n    }\r\n  }\r\n\r\n  function onMouseUp () {\r\n    isMouseOnGutter = false;\r\n    parentElement.removeEventListener('mousemove', onMouseMove, false);\r\n  }\r\n\r\n  function onMouseMove (e) {\r\n    if (isMouseOnGutter && leftChild && rightChild) {\r\n\r\n      let leftChildInfos = leftChild.getBoundingClientRect();\r\n      let rightChildInfos = rightChild.getBoundingClientRect();\r\n\r\n      let leftElNewSize = direction === 'vertical'\r\n        ? (e.clientX - leftChildInfos.x)\r\n        : (e.clientY - leftChildInfos.y);\r\n\r\n      let rightElNewSize = direction === 'vertical'\r\n        ? (rightChildInfos.width + (leftChildInfos.width - leftElNewSize))\r\n        : (rightChildInfos.height + (leftChildInfos.height - leftElNewSize));\r\n\r\n      if (leftElNewSize >= defaultOptions.minSize && rightElNewSize >= defaultOptions.minSize) {\r\n\r\n        let prop = direction === 'vertical' ? 'width' : 'height';\r\n\r\n\r\n        leftChild.style[prop] = (leftElNewSize - (defaultOptions.gutterSize / 2)) + 'px';\r\n        rightChild.style[prop] = (rightElNewSize + (defaultOptions.gutterSize / 2)) + 'px';\r\n      }\r\n    }\r\n\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  parentElement.addEventListener('mousedown', onMouseDown, false);\r\n  parentElement.addEventListener('mouseup', onMouseUp, false);\r\n}"],"names":["SplitViews","options","defaultOptions","parentId","direction","gutterSize","minSize","parentElement","document","getElementById","parentChildren","children","isMouseOnGutter","childSize","length","gutterId","leftChild","rightChild","onMouseMove","e","leftChildInfos","getBoundingClientRect","rightChildInfos","leftElNewSize","clientX","x","clientY","y","rightElNewSize","width","height","prop","style","preventDefault","stopPropagation","forEach","el","index","gutter","createElement","gutterCls","classList","add","dataset","id","parentNode","insertBefore","nextSibling","addEventListener","target","contains","parseInt","removeEventListener"],"mappings":"AAAe,SAASA,EAAYC,GAElC,IAAIC,EAAiB,CACnBC,SAAU,aACVC,UAAW,WACXC,WAAY,EACZC,QAAS,MACNL,GAGDM,EAAgBC,SAASC,eAAeP,EAAeC,UACzDO,EAAiB,IAAIH,EAAcI,UAEjCC,GAAkB,EACpBC,EAAY,IAAMH,EAAeI,OAE/BV,EAAYF,EAAeE,UAC7BW,EAAW,EACXC,EAAY,KACZC,EAAa,KAmCf,SAASC,EAAaC,GACpB,GAAIP,GAAmBI,GAAaC,EAAY,CAE9C,IAAIG,EAAiBJ,EAAUK,wBAC3BC,EAAkBL,EAAWI,wBAE7BE,EAA8B,aAAdnB,EACfe,EAAEK,QAAUJ,EAAeK,EAC3BN,EAAEO,QAAUN,EAAeO,EAE5BC,EAA+B,aAAdxB,EAChBkB,EAAgBO,OAAST,EAAeS,MAAQN,GAChDD,EAAgBQ,QAAUV,EAAeU,OAASP,GAEvD,GAAIA,GAAiBrB,EAAeI,SAAWsB,GAAkB1B,EAAeI,QAAS,CAEvF,IAAIyB,EAAqB,aAAd3B,EAA2B,QAAU,SAGhDY,EAAUgB,MAAMD,GAASR,EAAiBrB,EAAeG,WAAa,EAAM,KAC5EY,EAAWe,MAAMD,GAASH,EAAkB1B,EAAeG,WAAa,EAAM,MAIlFc,EAAEc,iBACFd,EAAEe,kBA1DJxB,EAAeyB,SAAQ,CAACC,EAAIC,KAC1B,IAAIN,EAAqB,aAAd3B,EAA2B,QAAU,SAGhD,GAFAgC,EAAGJ,MAAMD,GAAQ,QAAQlB,QAAgBX,EAAeG,WAAa,OAEjEgC,EAAQ3B,EAAeI,OAAS,EAAG,CACrC,MAAMwB,EAAS9B,SAAS+B,cAAc,QAChCC,EAA0B,aAAdpC,EAA2B,kBAAoB,oBAEjEkC,EAAOG,UAAUC,IAAI,SAAUF,GAE/BF,EAAON,MAAMD,GAAQ7B,EAAeG,WAAa,KACjDiC,EAAOK,QAAQC,GAAKP,EACpBD,EAAGS,WAAWC,aAAaR,EAAQF,EAAGW,iBAiD1CxC,EAAcyC,iBAAiB,aA7C/B,SAAsB7B,GAChBA,EAAE8B,OAAOR,UAAUS,SAAS,YAC9BtC,GAAkB,EAClBG,EAAWoC,SAAShC,EAAE8B,OAAON,QAAQC,GAAI,IAEzC5B,EAAYN,EAAeK,GAC3BE,EAAaP,EAAeK,EAAW,GAEvCR,EAAcyC,iBAAiB,YAAa9B,GAAa,OAqCJ,GACzDX,EAAcyC,iBAAiB,WAlC/B,WACEpC,GAAkB,EAClBL,EAAc6C,oBAAoB,YAAalC,GAAa,MAgCT"}
{"version":3,"file":"index.esm.js","sources":["../index.js"],"sourcesContent":["export default function SplitViews (options) {\r\n\r\n  let defaultOptions = {\r\n    parentId: 'split-view',\r\n    direction: 'vertical',\r\n    gutterSize: 5,\r\n    minSize: 20,\r\n    ...options\r\n  };\r\n\r\n  let parentElement = document.getElementById(defaultOptions.parentId),\r\n    parentChildren = Array.from(parentElement.children),\r\n    isMouseOnGutter = false,\r\n    childSize = 100 / parentChildren.length;\r\n\r\n  let direction = defaultOptions.direction,\r\n    gutterId = 0,\r\n    leftChild = null,\r\n    rightChild = null,\r\n    gutterOffset = defaultOptions.gutterSize / 2;\r\n\r\n  parentChildren.forEach((el, index) => {\r\n    let prop = direction === 'vertical' ? 'width' : 'height';\r\n    el.style[prop] = `calc(${childSize}% - ${gutterOffset}px)`;\r\n\r\n    if (index < parentChildren.length - 1) {\r\n      const gutter = document.createElement('span');\r\n      const gutterCls = direction === 'vertical' ? \"gutter-vertical\" : \"gutter-horizontal\";\r\n\r\n      gutter.classList.add(\"gutter\", gutterCls);\r\n\r\n      gutter.style[prop] = defaultOptions.gutterSize + 'px';\r\n      gutter.dataset.id = index;\r\n      el.parentNode.insertBefore(gutter, el.nextSibling);\r\n    }\r\n  });\r\n\r\n  function onMouseDown (e) {\r\n    if (e.target.classList.contains('gutter')) {\r\n      isMouseOnGutter = true;\r\n      gutterId = parseInt(e.target.dataset.id, 10);\r\n\r\n      leftChild = parentChildren[gutterId];\r\n      rightChild = parentChildren[gutterId + 1];\r\n\r\n      parentElement.addEventListener('mousemove', onMouseMove, false);\r\n      parentElement.addEventListener('mouseup', onMouseUp, false);\r\n    }\r\n  }\r\n\r\n  function onMouseUp () {\r\n    isMouseOnGutter = false;\r\n    parentElement.removeEventListener('mousemove', onMouseMove, false);\r\n    parentElement.removeEventListener('mouseup', onMouseUp, false);\r\n  }\r\n\r\n  function onMouseMove (e) {\r\n    if (isMouseOnGutter && leftChild && rightChild) {\r\n\r\n      let leftChildInfos = leftChild.getBoundingClientRect();\r\n      let rightChildInfos = rightChild.getBoundingClientRect();\r\n\r\n      let leftElNewSize = direction === 'vertical'\r\n        ? (e.clientX - leftChildInfos.x)\r\n        : (e.clientY - leftChildInfos.y);\r\n\r\n      let rightElNewSize = direction === 'vertical'\r\n        ? (rightChildInfos.width + (leftChildInfos.width - leftElNewSize))\r\n        : (rightChildInfos.height + (leftChildInfos.height - leftElNewSize));\r\n\r\n      if (leftElNewSize >= defaultOptions.minSize && rightElNewSize >= defaultOptions.minSize) {\r\n\r\n        let prop = direction === 'vertical' ? 'width' : 'height';\r\n\r\n        leftChild.style[prop] = (leftElNewSize - gutterOffset) + 'px';\r\n        rightChild.style[prop] = (rightElNewSize + gutterOffset) + 'px';\r\n      }\r\n    }\r\n\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  parentElement.addEventListener('mousedown', onMouseDown, false);\r\n}"],"names":["SplitViews","options","defaultOptions","parentId","direction","gutterSize","minSize","parentElement","document","getElementById","parentChildren","Array","from","children","isMouseOnGutter","childSize","length","gutterId","leftChild","rightChild","gutterOffset","onMouseUp","removeEventListener","onMouseMove","e","leftChildInfos","getBoundingClientRect","rightChildInfos","leftElNewSize","clientX","x","clientY","y","rightElNewSize","width","height","prop","style","preventDefault","stopPropagation","forEach","el","index","gutter","createElement","gutterCls","classList","add","dataset","id","parentNode","insertBefore","nextSibling","addEventListener","target","contains","parseInt"],"mappings":"AAAe,SAASA,EAAYC,GAElC,IAAIC,EAAiB,CACnBC,SAAU,aACVC,UAAW,WACXC,WAAY,EACZC,QAAS,MACNL,GAGDM,EAAgBC,SAASC,eAAeP,EAAeC,UACzDO,EAAiBC,MAAMC,KAAKL,EAAcM,UAC1CC,GAAkB,EAClBC,EAAY,IAAML,EAAeM,OAE/BZ,EAAYF,EAAeE,UAC7Ba,EAAW,EACXC,EAAY,KACZC,EAAa,KACbC,EAAelB,EAAeG,WAAa,EA+B7C,SAASgB,IACPP,GAAkB,EAClBP,EAAce,oBAAoB,YAAaC,GAAa,GAC5DhB,EAAce,oBAAoB,UAAWD,GAAW,GAG1D,SAASE,EAAaC,GACpB,GAAIV,GAAmBI,GAAaC,EAAY,CAE9C,IAAIM,EAAiBP,EAAUQ,wBAC3BC,EAAkBR,EAAWO,wBAE7BE,EAA8B,aAAdxB,EACfoB,EAAEK,QAAUJ,EAAeK,EAC3BN,EAAEO,QAAUN,EAAeO,EAE5BC,EAA+B,aAAd7B,EAChBuB,EAAgBO,OAAST,EAAeS,MAAQN,GAChDD,EAAgBQ,QAAUV,EAAeU,OAASP,GAEvD,GAAIA,GAAiB1B,EAAeI,SAAW2B,GAAkB/B,EAAeI,QAAS,CAEvF,IAAI8B,EAAqB,aAAdhC,EAA2B,QAAU,SAEhDc,EAAUmB,MAAMD,GAASR,EAAgBR,EAAgB,KACzDD,EAAWkB,MAAMD,GAASH,EAAiBb,EAAgB,MAI/DI,EAAEc,iBACFd,EAAEe,kBA3DJ7B,EAAe8B,SAAQ,CAACC,EAAIC,KAC1B,IAAIN,EAAqB,aAAdhC,EAA2B,QAAU,SAGhD,GAFAqC,EAAGJ,MAAMD,GAAQ,QAAQrB,QAAgBK,OAErCsB,EAAQhC,EAAeM,OAAS,EAAG,CACrC,MAAM2B,EAASnC,SAASoC,cAAc,QAChCC,EAA0B,aAAdzC,EAA2B,kBAAoB,oBAEjEuC,EAAOG,UAAUC,IAAI,SAAUF,GAE/BF,EAAON,MAAMD,GAAQlC,EAAeG,WAAa,KACjDsC,EAAOK,QAAQC,GAAKP,EACpBD,EAAGS,WAAWC,aAAaR,EAAQF,EAAGW,iBAkD1C7C,EAAc8C,iBAAiB,aA9C/B,SAAsB7B,GAChBA,EAAE8B,OAAOR,UAAUS,SAAS,YAC9BzC,GAAkB,EAClBG,EAAWuC,SAAShC,EAAE8B,OAAON,QAAQC,GAAI,IAEzC/B,EAAYR,EAAeO,GAC3BE,EAAaT,EAAeO,EAAW,GAEvCV,EAAc8C,iBAAiB,YAAa9B,GAAa,GACzDhB,EAAc8C,iBAAiB,UAAWhC,GAAW,OAqCA"}
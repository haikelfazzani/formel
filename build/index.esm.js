function e(e){let t={parent:(i=e.parent,("string"==typeof i?document.querySelector(i):i)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(n=e.sizes,n&&n.length>0?n.map((e=>e/100)):[]),onDragEnd:e.onDragEnd||null};var n,i;let o=t.parent,r=Array.from(o.children),s=null,l=null,u="horizontal"===t.direction,a=!1,f=0,g=0,p=0,d=0,m=0;o.style.flexDirection=u?"row":"column";let c=0;for(const n of r)n.classList.contains("sp-gutter")?(n.style.flex=`0 0 ${e.gutterSize}px`,n.style.cursor=u?"col-resize":"row-resize"):(n.style.flex=t.sizes.length>0?t.sizes[c]:1,c++);function w(e){if(a){let n=u?e.pageX:e.pageY,i=n-m;f+=i,g-=i;let o=f<t.minSize||g<t.minSize;if(!o){let e=p*(f/d),n=p*(g/d);o=e<t.minSize||n<t.minSize,s&&l&&!o&&(s.style.flexGrow=e,l.style.flexGrow=n)}m=n}e.preventDefault(),e.stopPropagation()}function z(){if(a=!1,t.onDragEnd){let e=[];for(const t of r)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",z)}window.addEventListener("mousedown",(function(e){a=!0;let t=e.target;o&&t.classList.contains("sp-gutter")?(s=t.previousElementSibling,l=t.nextElementSibling,s&&l&&(f=u?s.offsetWidth:s.offsetHeight,g=u?l.offsetWidth:l.offsetHeight,m=u?e.pageX:e.pageY,d=f+g,p=Number(s.style.flexGrow)+Number(l.style.flexGrow),window.addEventListener("mousemove",w),window.addEventListener("mouseup",z)),e.preventDefault(),e.stopPropagation()):a=!1}))}export default e;

/*!
* SplitViews - Utility for resizable split views.
* Licensed Under MIT
* Copyright 2021 Haikel Fazzani
*/
function e(e){let t={parent:(n=e.parent,("string"==typeof n?document.querySelector(n):n)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(o=e.sizes,o&&o.length>0?o.map((e=>e/100)):[]),onDragEnd:e.onDragEnd};var o,n;let i,s,r,l=null,u=window.addEventListener,c=window.removeEventListener,a=t.parent,f=Array.from(a.children),g="horizontal"===t.direction,p=!1,m=0,d=0,h=0,z=0,w=0;a.style.flexDirection=g?"row":"column";let y=0;for(const o of f)o.classList.contains("sp-gutter")?(o.style.flex=`0 0 ${e.gutterSize}px`,o.style.cursor=(g?"col":"row")+"-resize"):(o.style.flex=t.sizes.length>0?t.sizes[y]:1,y++);function S(e){r=e.target,p=!0,r.classList.contains("sp-gutter")?(a=r.parentNode,g=a.classList.contains("horizontal"),l=/^touch/g.test(e.type),i=r.previousElementSibling,s=r.nextElementSibling,i&&s&&(m=g?i.offsetWidth:i.offsetHeight,d=g?s.offsetWidth:s.offsetHeight,e=l?e.changedTouches[0]:e,w=g?e.pageX:e.pageY,z=m+d,h=Number(i.style.flexGrow)+Number(s.style.flexGrow)),l?(u("touchmove",v),u("touchend",x),u("touchcancel",x)):(u("mousemove",v),u("mouseup",x))):p=!1}function v(e){if(p){e=l?e.changedTouches[0]:e;let o=g?e.pageX:e.pageY,n=o-w;m+=n,d-=n;let r=m<t.minSize||d<t.minSize;if(!r){let e=h*(m/z),o=h*(d/z);r=e<t.minSize||o<t.minSize,i&&s&&!r&&(i.style.flexGrow=e,s.style.flexGrow=o)}w=o}l||(e.preventDefault(),e.stopPropagation())}function x(){if(p=!1,r=null,t.onDragEnd){const e=[];for(const t of f)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}l?(c("touchmove",v),c("touchend",x),c("touchcancel",x)):(c("mousemove",v),c("mouseup",x))}u("touchstart",S),u("mousedown",S)}export default e;

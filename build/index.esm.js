function e(e){let t={parent:(n=e.parent,("string"==typeof n?document.querySelector(n):n)||".split-view"),direction:e.direction,gutterCln:"sp-gutter",gutterSize:e.gutterSize||5,minSize:e.minSize||0,sizes:(o=e.sizes,o&&o.length>0?o.map((e=>e/100)):[]),onDragEnd:e.onDragEnd};var o,n;let s,i,r,l=!1,c=t.parent,a=Array.from(c.children),u=c.addEventListener,f=c.removeEventListener,g="horizontal"===t.direction,m=!1,d=0,h=0,p=0,z=0,y=0;function v(e){r=e.target,m=!0,r.classList.contains(t.gutterCln)?(c=r.parentNode,g=c.classList.contains("horizontal"),l=/^touch/g.test(e.type),s=r.previousElementSibling,i=r.nextElementSibling,s&&i&&(d=g?s.offsetWidth:s.offsetHeight,h=g?i.offsetWidth:i.offsetHeight,e=l?e.changedTouches[0]:e,y=g?e.pageX:e.pageY,z=d+h,p=Number(s.style.flexGrow)+Number(i.style.flexGrow)),l?(u("touchmove",x),u("touchend",w),u("touchcancel",w)):(u("mousemove",x),u("mouseup",w))):m=!1}function x(e){if(m){e=l?e.changedTouches[0]:e;let t=g?e.pageX:e.pageY,o=t-y;d+=o,h-=o;const n=c.dataset.minsize;d>=n&&h>=n&&(s.style.flexGrow=p*(d/z),i.style.flexGrow=p*(h/z)),y=t}l||(e.preventDefault(),e.stopPropagation())}function w(){if(m=!1,r=null,t.onDragEnd){const e=[];for(const o of a)o.classList.contains(t.gutterCln)||e.push(100*o.style.flexGrow);t.onDragEnd(e)}f("touchmove",x),f("touchend",w),f("touchcancel",w),f("mousemove",x),f("mouseup",w)}c.dataset.minsize=t.minSize,c.style.flexDirection=g?"row":"column",((e,o)=>{let n=0;for(const s of e)s.classList.contains(t.gutterCln)?(s.style.flex=`0 0 ${t.gutterSize}px`,s.style.cursor=(o?"col":"row")+"-resize"):(s.style.flex=t.sizes.length>0?t.sizes[n]:1,n++)})(a,g),u("touchstart",v),u("mousedown",v)}export default e;

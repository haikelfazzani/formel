function e(e){let t={parent:(o=e.parent,("string"==typeof o?document.querySelector(o):o)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(n=e.sizes,n&&n.length>0?n.map((e=>e/100)):[]),onDragEnd:e.onDragEnd||null};var n,o;let i=null,s=window.addEventListener,l=window.removeEventListener,r=t.parent,u=Array.from(r.children),c=null,a=null,f=null,g="horizontal"===t.direction,m=!1,p=0,d=0,h=0,z=0,w=0;r.style.flexDirection=g?"row":"column";let y=0;for(const n of u)n.classList.contains("sp-gutter")?(n.style.flex=`0 0 ${e.gutterSize}px`,n.style.cursor=(g?"col":"row")+"-resize"):(n.style.flex=t.sizes.length>0?t.sizes[y]:1,y++);function S(e){f=e.target,m=!0,f.classList.contains("sp-gutter")?(i=/^touch/g.test(e.type),c=f.previousElementSibling,a=f.nextElementSibling,c&&a&&(p=g?c.offsetWidth:c.offsetHeight,d=g?a.offsetWidth:a.offsetHeight,e=i?e.changedTouches[0]:e,w=g?e.pageX:e.pageY,z=p+d,h=Number(c.style.flexGrow)+Number(a.style.flexGrow)),i?(s("touchmove",v),s("touchend",x),s("touchcancel",x)):(s("mousemove",v),s("mouseup",x))):m=!1}function v(e){if(m){e=i?e.changedTouches[0]:e;let n=g?e.pageX:e.pageY,o=n-w;p+=o,d-=o;let s=p<t.minSize||d<t.minSize;if(!s){let e=h*(p/z),n=h*(d/z);s=e<t.minSize||n<t.minSize,c&&a&&!s&&(c.style.flexGrow=e,a.style.flexGrow=n)}w=n}i||(e.preventDefault(),e.stopPropagation())}function x(){if(m=!1,f=null,t.onDragEnd){const e=[];for(const t of u)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}i?(l("touchmove",v),l("touchend",x),l("touchcancel",x)):(l("mousemove",v),l("mouseup",x))}s("touchstart",S),s("mousedown",S)}export default e;

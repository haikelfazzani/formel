function e(e){let t={parent:(n=e.parent,("string"==typeof n?document.querySelector(n):n)||".split-view"),direction:e.direction,gutterCln:"sp-gutter",gutterSize:e.gutterSize||5,minSize:e.minSize||0,sizes:(o=e.sizes,o&&o.length>0?o.map((e=>e/100)):[]),onDragEnd:e.onDragEnd};var o,n;let s,i,r,l=t.parent,c=Array.from(l.children),u=l.addEventListener,a=l.removeEventListener,f="horizontal"===t.direction,g=!1,d=!1,m=0,h=0,p=0,z=0,y=0;function v(e){r=e.target,d=!0,r.classList.contains(t.gutterCln)?(l=r.parentNode,f=l.classList.contains("horizontal"),g=/^touch/g.test(e.type),s=r.previousElementSibling,i=r.nextElementSibling,s&&i&&(m=f?s.offsetWidth:s.offsetHeight,h=f?i.offsetWidth:i.offsetHeight,e=g?e.changedTouches[0]:e,y=f?e.pageX:e.pageY,z=m+h,p=Number(s.style.flexGrow)+Number(i.style.flexGrow)),g?(u("touchmove",x),u("touchend",w),u("touchcancel",w)):(u("mousemove",x),u("mouseup",w))):d=!1}function x(e){if(d){e=g?e.changedTouches[0]:e;let t=f?e.pageX:e.pageY,o=t-y;m+=o,h-=o;const n=l.dataset.minsize;m>=n&&h>=n&&(s.style.flexGrow=p*(m/z),i.style.flexGrow=p*(h/z)),y=t}g||(e.preventDefault(),e.stopPropagation())}function w(){if(d=!1,r=null,t.onDragEnd){const e=[];for(const o of c)o.classList.contains(t.gutterCln)||e.push(100*o.style.flexGrow);t.onDragEnd(e)}a("touchmove",x),a("touchend",w),a("touchcancel",w),a("mousemove",x),a("mouseup",w)}return l.dataset.minsize=t.minSize,l.style.flexDirection=f?"row":"column",((e,o)=>{let n=0;for(const s of e)s.classList.contains(t.gutterCln)?(s.style.flex=`0 0 ${t.gutterSize}px`,s.style.cursor=(o?"col":"row")+"-resize"):(s.style.flex=t.sizes.length>0?t.sizes[n]:1,n++)})(c,f),u("touchstart",v),u("mousedown",v),{parent:l,destroy(){a("touchstart",v),a("mousedown",v)}}}export default e;

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SplitViews=t()}(this,(function(){"use strict";return function(e){let t={parent:"split-view",direction:"vertical",gutterSize:5,minSize:20,sizes:[],onDragEnd:e.onDragEnd,...e},i="string"==typeof(l=t.parent)?document.getElementById(l):l,n=Array.from(i.children),o=!1,r=100/n.length;var l;let s=t.direction,a=t.sizes,d=t.onDragEnd,c=0,u=null,g=null,f=t.gutterSize/2;function p(){if(o=!1,i.removeEventListener("mousemove",h,!1),i.removeEventListener("mouseup",p,!1),d){let e=n.map((e=>e.getBoundingClientRect().width/i.offsetWidth*100));d(e)}}function h(e){if(o&&u&&g){let i=u.getBoundingClientRect(),n=g.getBoundingClientRect(),o="vertical"===s?e.clientX-i.x:e.clientY-i.y,r="vertical"===s?n.width+(i.width-o):n.height+(i.height-o);if(o>=t.minSize&&r>=t.minSize){let e="vertical"===s?"width":"height";u.style[e]=o-f+"px",g.style[e]=r+f+"px"}}e.preventDefault(),e.stopPropagation()}n.forEach(((e,i)=>{let o="vertical"===s?"width":"height";if(e.style[o]=a.length===n.length?`calc(${a[i]}% - ${f}px)`:`calc(${r}% - ${f}px)`,i<n.length-1){const n=document.createElement("span"),r="vertical"===s?"gutter-vertical":"gutter-horizontal";n.classList.add("gutter",r),n.style[o]=t.gutterSize+"px",n.dataset.id=i,e.parentNode.insertBefore(n,e.nextSibling)}})),i.addEventListener("mousedown",(function(e){e.target&&e.target.classList.contains("gutter")&&(o=!0,c=parseInt(e.target.dataset.id,10),u=n[c],g=n[c+1],i.addEventListener("mousemove",h,!1),i.addEventListener("mouseup",p,!1))}),!1)}}));

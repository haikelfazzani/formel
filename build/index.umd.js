!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SplitViews=t()}(this,(function(){"use strict";return function(e){function t(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(e)}let i={parent:"split-view",direction:"vertical",gutterSize:5,minSize:20,sizes:[],onDragEnd:e.onDragEnd,...e},n="string"==typeof(s=i.parent)?document.getElementById(s):s,o=Array.from(n.children),r=!1,l=100/o.length;var s;let a=i.direction,d=i.sizes,c=i.onDragEnd,u=0,f=0,g=null,m=null,h={},p={},v="vertical"===a?"width":"height";for(let e=0;e<o.length;e++){const t=o[e];let n=i.gutterSize/2;if(t.style[v]=d.length===o.length?`calc(${d[e]}% - ${n}px)`:`calc(${l}% - ${n}px)`,e<o.length-1){const n=document.createElement("span"),o="vertical"===a?"gutter-vertical":"gutter-horizontal";n.classList.add("gutter",o),n.style[v]=i.gutterSize+"px",n.dataset.id=e,t.parentNode.insertBefore(n,t.nextSibling)}}function y(){if(r=!1,n.removeEventListener("mousemove",E,!1),n.removeEventListener("mouseup",y,!1),c){let e="vertical"===a?n.offsetWidth:n.offsetHeight,t=o.map((t=>t.getBoundingClientRect().width/e*100));c(t)}}function E(e){if(r&&g&&m){let o="vertical"===a?n.offsetWidth:n.offsetHeight,r="vertical"===a?e.clientX-h.x-f:e.clientY-h.y-f,l="vertical"===a?p.width+(h.width-r):p.height+(h.height-r),s=t(r/o*100),d=t(l/o*100);s>=i.minSize&&d>=i.minSize&&(g.style[v]=s+"%",m.style[v]=d+"%")}e.preventDefault(),e.stopPropagation()}n.addEventListener("mousedown",(function(e){e.target&&e.target.classList.contains("gutter")&&(r=!0,u=parseInt(e.target.dataset.id,10),f="vertical"===a?e.offsetX:e.offsetY,g=o[u],m=o[u+1],h=g.getBoundingClientRect(),p=m.getBoundingClientRect(),n.addEventListener("mousemove",E,!1),n.addEventListener("mouseup",y,!1))}),!1)}}));

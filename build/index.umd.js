!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SplitViews=t()}(this,(function(){"use strict";return function(e){let t={parent:(o=e.parent,("string"==typeof o?document.querySelector(o):o)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(n=e.sizes,n&&n.length>0?n.map((e=>e/100)):[]),onDragEnd:e.onDragEnd||null};var n,o;let i=null,s=window.addEventListener,l=window.removeEventListener,r=t.parent,u=Array.from(r.children),c=null,f=null,a=null,g="horizontal"===t.direction,p=!1,d=0,h=0,m=0,y=0,z=0;r.style.flexDirection=g?"row":"column";let w=0;for(const n of u)n.classList.contains("sp-gutter")?(n.style.flex=`0 0 ${e.gutterSize}px`,n.style.cursor=(g?"col":"row")+"-resize"):(n.style.flex=t.sizes.length>0?t.sizes[w]:1,w++);function S(e){if(a=e.target,p=!0,a.classList.contains("sp-gutter")){if(i=/^touch/g.test(e.type),c=a.previousElementSibling,f=a.nextElementSibling,c&&f){d=g?c.offsetWidth:c.offsetHeight,h=g?f.offsetWidth:f.offsetHeight;let t=i?e.changedTouches[0].pageX:e.pageX,n=i?e.changedTouches[0].pageY:e.pageY;z=g?t:n,y=d+h,m=Number(c.style.flexGrow)+Number(f.style.flexGrow)}i?(s("touchmove",x),s("touchend",v),s("touchcancel",v)):(s("mousemove",x),s("mouseup",v))}else p=!1}function x(e){if(p){i=/^touch/g.test(e.type);let n=i?e.changedTouches[0].pageX:e.pageX,o=i?e.changedTouches[0].pageY:e.pageY,s=g?n:o,l=s-z;d+=l,h-=l;let r=d<t.minSize||h<t.minSize;if(!r){let e=m*(d/y),n=m*(h/y);r=e<t.minSize||n<t.minSize,c&&f&&!r&&(c.style.flexGrow=e,f.style.flexGrow=n)}z=s}i||(e.preventDefault(),e.stopPropagation())}function v(){if(p=!1,a=null,t.onDragEnd){const e=[];for(const t of u)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}i?(l("touchmove",x),l("touchend",v),l("touchcancel",v)):(l("touchmove",x),l("touchend",v))}s("touchstart",S),s("mousedown",S)}}));

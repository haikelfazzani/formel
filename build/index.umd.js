!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SplitViews=t()}(this,(function(){"use strict";return function(e){let t={parent:(i=e.parent,("string"==typeof i?document.querySelector(i):i)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(n=e.sizes,n&&n.length>0?n.map((e=>e/100)):[]),onDragEnd:e.onDragEnd||null};var n,i;let o=t.parent,s=Array.from(o.children),r=null,l=null,f="horizontal"===t.direction,u=!1,a=0,d=0,p=0,g=0,c=0;o.style.flexDirection=f?"row":"column";let m=0;for(const n of s)n.classList.contains("sp-gutter")?(n.style.flex=`0 0 ${e.gutterSize}px`,n.style.cursor=f?"col-resize":"row-resize"):(n.style.flex=t.sizes.length>0?t.sizes[m]:1,m++);function w(e){if(u){let n=f?e.pageX:e.pageY,i=n-c;a+=i,d-=i;let o=a<t.minSize||d<t.minSize;if(!o){let e=p*(a/g),n=p*(d/g);o=e<t.minSize||n<t.minSize,r&&l&&!o&&(r.style.flexGrow=e,l.style.flexGrow=n)}c=n}e.preventDefault(),e.stopPropagation()}function y(){if(u=!1,t.onDragEnd){let e=[];for(const t of s)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",y)}window.addEventListener("mousedown",(function(e){u=!0;let t=e.target;o&&t.classList.contains("sp-gutter")?(r=t.previousElementSibling,l=t.nextElementSibling,r&&l&&(a=f?r.offsetWidth:r.offsetHeight,d=f?l.offsetWidth:l.offsetHeight,c=f?e.pageX:e.pageY,g=a+d,p=Number(r.style.flexGrow)+Number(l.style.flexGrow),window.addEventListener("mousemove",w),window.addEventListener("mouseup",y)),e.preventDefault(),e.stopPropagation()):u=!1}))}}));

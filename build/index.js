"use strict";module.exports=function(e){let t={parent:(n=e.parent,("string"==typeof n?document.querySelector(n):n)||".split-view"),direction:e.direction||!0,gutterCln:e.gutterCln||"sp-gutter",gutterSize:e.gutterSize||5,minSize:(e.minSize||0)/100,sizes:(o=e.sizes,o&&o.length>0?o.map((e=>e/100)):[]),onDragEnd:e.onDragEnd};var o,n;let s,i,r,l=null,u=window.addEventListener,c=window.removeEventListener,a=t.parent,f=Array.from(a.children),g="horizontal"===t.direction,m=!1,p=0,d=0,h=0,z=0,w=0;a.style.flexDirection=g?"row":"column";let y=0;for(const o of f)o.classList.contains("sp-gutter")?(o.style.flex=`0 0 ${e.gutterSize}px`,o.style.cursor=(g?"col":"row")+"-resize"):(o.style.flex=t.sizes.length>0?t.sizes[y]:1,y++);function S(e){r=e.target,m=!0,r.classList.contains("sp-gutter")?(a=r.parentNode,g=a.classList.contains("horizontal"),l=/^touch/g.test(e.type),s=r.previousElementSibling,i=r.nextElementSibling,s&&i&&(p=g?s.offsetWidth:s.offsetHeight,d=g?i.offsetWidth:i.offsetHeight,e=l?e.changedTouches[0]:e,w=g?e.pageX:e.pageY,z=p+d,h=Number(s.style.flexGrow)+Number(i.style.flexGrow)),l?(u("touchmove",v),u("touchend",x),u("touchcancel",x)):(u("mousemove",v),u("mouseup",x))):m=!1}function v(e){if(m){e=l?e.changedTouches[0]:e;let o=g?e.pageX:e.pageY,n=o-w;p+=n,d-=n;let r=p<t.minSize||d<t.minSize;if(!r){let e=h*(p/z),o=h*(d/z);r=e<t.minSize||o<t.minSize,s&&i&&!r&&(s.style.flexGrow=e,i.style.flexGrow=o)}w=o}l||(e.preventDefault(),e.stopPropagation())}function x(){if(m=!1,r=null,t.onDragEnd){const e=[];for(const t of f)t.classList.contains("sp-gutter")||e.push(100*t.style.flexGrow);t.onDragEnd(e)}l?(c("touchmove",v),c("touchend",x),c("touchcancel",x)):(c("mousemove",v),c("mouseup",x))}u("touchstart",S),u("mousedown",S)};
